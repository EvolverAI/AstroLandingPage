---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import HeroSection from "../components/home/HeroSection.astro";
import AboutSection from "../components/home/AboutSection.astro";
import ServicesSection from "../components/home/ServicesSection.astro";
import BrainstormingSection from "../components/home/BrainstormingSection.astro";
import FeaturesSection from "../components/home/FeaturesSection.astro";
import B2BOutsourcingSection from "../components/home/B2BOutsourcingSection.astro";
import ProductWFMSection from "../components/home/ProductWFMSection.astro";
import ProductElysiaSection from "../components/home/ProductElysiaSection.astro";
import AiCoursesSection from "../components/home/AiCoursesSection.astro";
import ContactSection from "../components/home/ContactSection.astro";

// Get language from URL parameter
export async function getStaticPaths() {
    return [
        { params: { lang: "en" } },
        { params: { lang: "de" } },
        { params: { lang: "it" } },
    ];
}

const { lang } = Astro.params;
const language = lang || "en";

// Dynamic titles and descriptions based on language
const titles = {
    en: "EvolverAI - Integrated AI Solutions",
    de: "EvolverAI - Integrierte KI-L√∂sungen",
    it: "EvolverAI - Soluzioni AI Integrate",
};

const descriptions = {
    en: "Discover EvolverAI, your trusted partner for cutting-edge IT and AI solutions. We deliver innovative software, expert consultancy, and tailored services to drive your success.",
    de: "Entdecken Sie EvolverAI, Ihren vertrauensw√ºrdigen Partner f√ºr modernste IT- und KI-L√∂sungen. Wir liefern innovative Software, Expertenberatung und ma√ügeschneiderte Services f√ºr Ihren Erfolg.",
    it: "Scopri EvolverAI, il tuo partner di fiducia per soluzioni IT e AI all'avanguardia. Offriamo software innovativo, consulenza esperta e servizi su misura per il tuo successo.",
};

console.log("üåç Dynamic language page:", language);
---

<Layout title={titles[language]} description={descriptions[language]}>
    <Header currentLanguage={language} />

    <main class="space-y-16">
        <!-- Hero section -->
        <HeroSection language={language} />

        <!-- About section -->
        <AboutSection language={language} />

        <!-- Services section -->
        <ServicesSection language={language} />

        <!-- Brainstorming section -->
        <BrainstormingSection language={language} />

        <!-- Features section -->
        <FeaturesSection language={language} />

        <!-- B2B Outsourcing section -->
        <B2BOutsourcingSection language={language} />

        <!-- Product WFM section -->
        <ProductWFMSection language={language} />

        <!-- Product Elysia section -->
        <ProductElysiaSection language={language} />

        <!-- AI Courses section -->
        <AiCoursesSection language={language} />

        <!-- Contact section -->
        <ContactSection language={language} />
    </main>

    <Footer language={language} />
</Layout>
