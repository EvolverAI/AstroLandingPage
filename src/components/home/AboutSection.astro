---
// About Section using the reusable ContentSection component
import ContentSection from "../global/ContentHeaderSection.astro";
import { getEntry } from "astro:content";

export interface Props {
  language?: string;
  environment?: string;
}

const { language = "en", environment = "production" } = Astro.props;

// Get content from Content Collections with fallback
let aboutData: any = null;
try {
  const aboutSection = await getEntry("sections", "about");
  aboutData = aboutSection?.data;
} catch (error) {
  console.warn("Content Collections not available:", error);
}

// Default content with fallback from Content Collections
const defaultContent =
  "At EvolverAI, we specialize in developing smart, innovative solutions that empower companies to thrive in the modern digital landscape. By seamlessly integrating Artificial Intelligence into your business processes, we help you unlock new levels of efficiency, accuracy, and growth.";

const sectionProps = {
  sectionId: aboutData?.id || "about",
  sectionType: "about",
  content: aboutData?.content?.description || defaultContent,
  backgroundImage:
    aboutData?.backgroundImage || "/img/evolverai-web-company-bg.jpg",
  minHeight: aboutData?.minHeight || "600px",
  backgroundOpacity: aboutData?.styling?.backgroundOpacity || "bg-opacity-10",
  contentOpacity:
    aboutData?.styling?.contentBackgroundOpacity || "bg-opacity-75",
  maxWidth: aboutData?.styling?.maxWidth || "max-w-lg",
  textAlign: aboutData?.styling?.textAlign || "text-right",
  contentPosition: aboutData?.styling?.justifyContent || "justify-end",
  companyName: "Evolver",
  companyNameHighlight: "AI",
  language,
  environment,
};
---

<ContentSection {...sectionProps} />
